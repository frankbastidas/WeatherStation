<!DOCTYPE html>
<html >
<head>
  <!-- Site made with Mobirise Website Builder v4.7.1, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.7.1, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="{{url_for('static', filename='assets/images/logo-itm-1-122x60.png')}}" type="image/x-icon">
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>

  <title>SENSORES</title>
  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/web/assets/mobirise-icons/mobirise-icons.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/tether/tether.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap-grid.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap-reboot.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/socicon/css/styles.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/dropdown/css/style.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/theme/css/style.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='assets/mobirise/css/mbr-additional.css')}}" type="text/css">
  <script src="{{url_for('static', filename='assets/gauge/js/raphael-2.1.4.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/gauge/js/justgage.js')}}"></script>



  <link href="https://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Fredoka+One" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Merienda+One" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Gamja+Flower" rel="stylesheet">  
  <link href="https://fonts.googleapis.com/css?family=Acme" rel="stylesheet">

  <script src="https://d3js.org/d3.v3.min.js" language="JavaScript"></script>
    <script src="{{url_for('static',filename='assets/gauge/js/liquidFillGauge.js')}}"></script>
    <style>
        .liquidFillGaugeText { font-family: Helvetica; font-weight: bold; }
        .fuente_acme{font-family: 'Acme', sans-serif;}
        .color_azul{color: rgba(1, 56, 89, 0.753);}
    </style>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>

 

</head>
<body>
    <style>
         #g1 {
        width:400px; height:320px;
        display: inline-block;
        margin: 1em;        
      }
        </style>

    <script>            
            var hum=0;            
            function climaval(valores) {
                if (hum!=valores.humedad){
                    //var tiempo=new Date();
                    //console.log('hum: '+valores.humedad);
                    myChart.data.labels.push(valores.hora);
                    myChart.data.datasets.forEach(dataset => {
                        dataset.data.push(valores.humedad);
                    });                           
                    if (myChart.data.datasets[0].data.length > 42){
                        var valordat = myChart.data.datasets[0].data.shift();
                        var valorhor = myChart.data.labels.shift();
                    }                              
                    myChart.update();
                    gauge1.update(valores.humedad);
                    hum=valores.humedad;
                }
            }

            var stream = new EventSource("{{url_for('clima')}}");
            stream.onmessage = function(e) {
                climaval($.parseJSON(e.data));
            };
            
    </script>

  <section class="menu cid-qPSSQeb6G5" once="menu" id="menu1-r">    

    <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="http://www.itm.edu.co/" target="_blank">
                         <img src="{{url_for('static', filename='assets/images/logo-itm-1-122x60.png')}}"  alt="Mobirise" title="" style="height: 3.8rem;">
                    </a>
                </span>
                <span class="navbar-caption-wrap"><a class="navbar-caption text-white display-4" href="https://mobirise.com"></a></span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item">
                    <a class="nav-link link text-white display-4" href="index.html">
                        <span class="mbri-home mbr-iconfont mbr-iconfont-btn"></span>Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link link text-white display-4" href="page1.html" aria-expanded="true">
                        <span class="mbri-search mbr-iconfont mbr-iconfont-btn"></span>Sensores</a>
                </li>
                
            </ul>            
        </div>
    </nav>
</section>

<section class="header6 cid-qPMwmN1mz1 mbr-fullscreen mbr-parallax-background" id="header6-k">
    <div class="mbr-overlay" style="opacity: 0.2; background-color: rgb(0, 0, 0);">
    </div>

    <div class="container">
            <div><h1 class="mbr-section-title mbr-bold pb-3 text-center fuente_patua mbr-fonts-style display-1 text-white ">Humedad Relativa</h1></div>
        <div class="row justify-content-md-center">
                
            <div class="mbr-white col-md-10 col-sm-12 espacio_arriba">                
                <div class="mbr-section-btn align-center"></div>
            </div>
        </div>
    </div>
    <div class="mbr-arrow hidden-sm-down" aria-hidden="true">
            <a href="#next">
                <i class="mbri-down mbr-iconfont"></i>
            </a>
        </div>
</section>

<section class="header6 mbr-fullscreen mbr-parallax-background" id="header6-w">        
    <div class="mbr-overlay" style="opacity: 0.08; background-color: rgb(0, 0, 0);">
    </div>
    
        <div class="col-md-8 col-xs-9 align-left text-center">
        <canvas id="myChart"></canvas>        
        </div>    

        <div class="align-left col-md-4 col-xs-3">
            <h1 class="text-center fuente_acme color_azul">Humedad Relativa</h1>
            <svg id="fillgauge1" width="97%" height="250"></svg>
        </div>        

        <div id="gaugeContainer"></div>
    
    <script>
    var ctx = document.getElementById("myChart").getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Humedad',
                data: [],
                backgroundColor: [
                    'rgba(1, 56, 89, 0.4)'
                ],
                borderColor: [
                    'rgba(1, 56, 89, 1)'
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }],
                xAxes:[{
                    time:{
                        unit:'second'
                    }
                }]
                
            }
        }
    });
    
    var horap={{horan|tojson}};
    var humedadp={{humedadn|tojson}};
    myChart.data.labels=horap;
    myChart.data.datasets.forEach(dataset => {
        dataset.data=humedadp;
    });  

    </script>

    <script language="JavaScript">
            var gauge1 = loadLiquidFillGauge("fillgauge1", 100);
            var config1 = liquidFillGaugeDefaultSettings();
            config1.circleColor = "#FF7777";
            config1.textColor = "#FF4444";
            config1.waveTextColor = "#FFAAAA";
            config1.waveColor = "#FFDDDD";
            config1.circleThickness = 0.2;
            config1.textVertPosition = 0.2;                               
    </script>
        
</section>


<!--<section class="header6 mbr-fullscreen mbr-parallax-background" id="header6-k">    
    <svg id="fillga"></svg>
            
</section>-->


<section class="cid-qPVe57Piso" id="footer1-y">


    <div class="container">
        <div class="media-container-row content text-white">
            <div class="col-12 col-md-3">
                <div class="media-wrap">
                    <a href="http://www.itm.edu.co/" target="_blank">
                        <img src="{{url_for('static', filename='assets/images/logo-itm-1-192x94.png')}}" alt="Mobirise" title="">
                    </a>
                </div>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3">Dirección</h5>
                <p class="mbr-text">Campus Robledo:
<br>Calle 73 No. 76A - 354, <br>Vía al Volador
<br></p>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3">
                    Contactos</h5>
                <p class="mbr-text">Tel: (+574) 440 51 00<br>Fax: (+574) 440 51 02<br></p>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3"></h5>
                <p class="mbr-text"></p>
            </div>
        </div>
        <div class="footer-lower">
            <div class="media-container-row">
                <div class="col-sm-12">
                    <hr>
                </div>
            </div>
            <div class="media-container-row mbr-white">
                <div class="col-sm-6 copyright">
                    <p class="mbr-text mbr-fonts-style display-7">
                        Frank B.C © Copyright 2017 - Todos los Derechos Reservados
                    </p>
                </div>
                <div class="col-md-6">
                    <div class="social-list align-right">
                        <div class="soc-item">
                            <a href="https://twitter.com/ITM_Medellin" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-twitter socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://www.facebook.com/ITMinstitucional?fref=ts" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-facebook socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="http://www.youtube.com/user/comunicacionitm/videos" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-youtube socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<script src="{{url_for('static', filename='assets/web/assets/jquery/jquery.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/popper/popper.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/tether/tether.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/bootstrap/js/bootstrap.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/dropdown/js/script.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/touchswipe/jquery.touch-swipe.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/parallax/jarallax.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/smoothscroll/smooth-scroll.js')}}"></script>  
<script src="{{url_for('static', filename='assets/theme/js/script.js')}}"></script>
<script src="{{url_for('static', filename='assets/gauge/js/raphael-2.1.4.min.js')}}"></script>
<script src="{{url_for('static', filename='assets/gauge/js/justgage.js')}}"></script>

<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="{{url_for('static',filename='assets/gauge/js/liquidFillGauge.js')}}"></script>
  
</body>
</html>
