<!DOCTYPE html>
<html >
<head>
  <!-- Site made with Mobirise Website Builder v4.7.1, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.7.1, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="{{url_for('static', filename='assets/images/logo-itm-1-122x60.png')}}" type="image/x-icon">
  <meta name="description" content="Web Creator Description">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <title>SENSORES</title>
  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/web/assets/mobirise-icons/mobirise-icons.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/tether/tether.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap-grid.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/bootstrap/css/bootstrap-reboot.min.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/socicon/css/styles.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/dropdown/css/style.css')}}">  
  <link rel="stylesheet" href="{{url_for('static', filename='assets/theme/css/style.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='assets/mobirise/css/mbr-additional.css')}}" type="text/css">
  <script src="{{url_for('static', filename='assets/gauge/js/raphael-2.1.4.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/gauge/js/justgage.js')}}"></script>

  <script src="https://d3js.org/d3.v3.min.js" language="JavaScript"></script>
    <script src="{{url_for('static',filename='assets/gauge/js/liquidFillGauge.js')}}"></script>
    <style>
        .liquidFillGaugeText { font-family: Helvetica; font-weight: bold; }
    </style>

  <link href="https://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Fredoka+One" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Merienda+One" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Gamja+Flower" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Kaushan+Script">

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>

 

</head>
<body>
    <style>
         #g2nuevo {
        width:400px; height:320px;
        display: inline-block;
        margin: 1em;
      }
        </style>

    <script>            
            var tem=0;            
            function climaval(valores) {
                if (tem!=valores.temperatura){
                    //var tiempo=new Date();
                    //console.log('temp: '+valores.temperatura);
                    myChart.data.labels.push(valores.hora);
                    myChart.data.datasets.forEach(dataset => {
                        dataset.data.push(valores.temperatura);
                    });                           
                    if (myChart.data.datasets[0].data.length > 42){
                        var valordat = myChart.data.datasets[0].data.shift();
                        var valorhor = myChart.data.labels.shift();
                    }
                    myChart.update();       
                    tem=valores.temperatura;                      
                }
            }

            var stream = new EventSource("{{url_for('clima')}}");
            stream.onmessage = function(e) {
                climaval($.parseJSON(e.data));
            };
            
    </script>

  <section class="menu cid-qPSSQeb6G5" once="menu" id="menu1-r">    

    <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="http://www.itm.edu.co/" target="_blank">
                         <img src="{{url_for('static', filename='assets/images/logo-itm-1-122x60.png')}}"  alt="Mobirise" title="" style="height: 3.8rem;">
                    </a>
                </span>
                <span class="navbar-caption-wrap"><a class="navbar-caption text-white display-4" href="https://mobirise.com"></a></span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item">
                    <a class="nav-link link text-white display-4" href="index.html">
                        <span class="mbri-home mbr-iconfont mbr-iconfont-btn"></span>Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link link text-white display-4" href="page1.html" aria-expanded="true">
                        <span class="mbri-search mbr-iconfont mbr-iconfont-btn"></span>Sensores</a>
                </li></ul>            
        </div>
    </nav>
</section>

<section class="header6 fondo_sta mbr-fullscreen mbr-parallax-background" id="header6-k">
    <div class="mbr-overlay" style="opacity: 0.2; background-color: rgb(0, 0, 0);">
    </div>

    <div class="container">
            <div><h1 class="mbr-section-title mbr-bold pb-3 text-center fuente_patua mbr-fonts-style display-1 text-white ">Temperatura</h1></div>
        <div class="row justify-content-md-center">
                
            <div class="mbr-white col-md-10 col-sm-12 espacio_arriba">                
                <div class="mbr-section-btn align-center"></div>
            </div>
        </div>
    </div>
    <div class="mbr-arrow hidden-sm-down" aria-hidden="true">
            <a href="#next">
                <i class="mbri-down mbr-iconfont"></i>
            </a>
        </div>
</section>

<section class="header6 mbr-fullscreen mbr-parallax-background" id="header6-w">        
    <div class="mbr-overlay" style="opacity: 0.08; background-color: rgb(0, 0, 0);">
    </div>
    
        <div class="col-md-8 col-xs-9 align-left text-center">
        <canvas id="myChart"></canvas>        
        </div>    
        <div id="g2nuevo"></div> 

    
    <script>
    var ctx = document.getElementById("myChart").getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'Temperatura',
                data: [],
                backgroundColor: [
                    'rgba(232, 44, 12, 0.4)'
                ],
                borderColor: [
                    'rgba(232, 44, 12, 1)'
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }],
                xAxes:[{
                    time:{
                        unit:'second'
                    }
                }]
                
            }
        }
    });
    var horap={{horan|tojson}};
    var temperaturap={{temperaturan|tojson}};
    myChart.data.labels=horap;
    myChart.data.datasets.forEach(dataset => {
        dataset.data=temperaturap;
    });  
    </script>

    <script src="{{url_for('static', filename='assets/gauge/js/raphael-2.1.4.min.js')}}"></script>
    <script src="{{url_for('static', filename='assets/gauge/js/justgage.js')}}"></script>
    <script>
    var g1, g2, g3, g4;

    window.onload = function(){
        var g1 = new JustGage({
        id: "g2nuevo",
        decimals: true,
        value: [80],
        min: 0,
        max: 80,
        title: "Temperatura",
        label: "ºC",
        levelColorsGradient: false
        });
        var stream2 = new EventSource("{{url_for('clima')}}");
            stream2.onmessage = function(e) {
                //console.log(e.data);         
                var valor=$.parseJSON(e.data);
                g1.refresh(valor.temperatura);
            };        
    };
    </script>
        
</section>



<section class="cid-qPVe57Piso" id="footer1-y">


    <div class="container">
        <div class="media-container-row content text-white">
            <div class="col-12 col-md-3">
                <div class="media-wrap">
                    <a href="http://www.itm.edu.co/" target="_blank">
                        <img src="{{url_for('static', filename='assets/images/logo-itm-1-192x94.png')}}" alt="Mobirise" title="">
                    </a>
                </div>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3">Dirección</h5>
                <p class="mbr-text">Campus Robledo:
<br>Calle 73 No. 76A - 354, <br>Vía al Volador
<br></p>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3">
                    Contactos</h5>
                <p class="mbr-text">Tel: (+574) 440 51 00<br>Fax: (+574) 440 51 02<br></p>
            </div>
            <div class="col-12 col-md-3 mbr-fonts-style display-7">
                <h5 class="pb-3"></h5>
                <p class="mbr-text"></p>
            </div>
        </div>
        <div class="footer-lower">
            <div class="media-container-row">
                <div class="col-sm-12">
                    <hr>
                </div>
            </div>
            <div class="media-container-row mbr-white">
                <div class="col-sm-6 copyright">
                    <p class="mbr-text mbr-fonts-style display-7">
                        Frank B.C © Copyright 2017 - Todos los Derechos Reservados
                    </p>
                </div>
                <div class="col-md-6">
                    <div class="social-list align-right">
                        <div class="soc-item">
                            <a href="https://twitter.com/ITM_Medellin" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-twitter socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="https://www.facebook.com/ITMinstitucional?fref=ts" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-facebook socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        <div class="soc-item">
                            <a href="http://www.youtube.com/user/comunicacionitm/videos" target="_blank">
                                <span class="mbr-iconfont mbr-iconfont-social socicon-youtube socicon" style="color: rgb(118, 118, 118);"></span>
                            </a>
                        </div>
                        
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<script src="{{url_for('static', filename='assets/web/assets/jquery/jquery.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/popper/popper.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/tether/tether.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/bootstrap/js/bootstrap.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/dropdown/js/script.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/touchswipe/jquery.touch-swipe.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/parallax/jarallax.min.js')}}"></script>  
<script src="{{url_for('static', filename='assets/smoothscroll/smooth-scroll.js')}}"></script>  
<script src="{{url_for('static', filename='assets/theme/js/script.js')}}"></script>
<script src="{{url_for('static', filename='assets/gauge/js/raphael-2.1.4.min.js')}}"></script>
<script src="{{url_for('static', filename='assets/gauge/js/justgage.js')}}"></script>

<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="{{url_for('static',filename='assets/gauge/js/liquidFillGauge.js')}}"></script>
  
</body>
</html>
